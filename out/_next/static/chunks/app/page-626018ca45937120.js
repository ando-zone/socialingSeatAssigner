(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{740:(e,s,t)=>{Promise.resolve().then(t.bind(t,3792))},3792:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var l=t(5155),a=t(2115),r=t(5695),n=t(2998),i=t(2945);function c(){let e=(0,r.useRouter)(),[s,t]=(0,a.useState)([]),[c,d]=(0,a.useState)(""),[o,m]=(0,a.useState)("male"),[x,h]=(0,a.useState)("extrovert"),[u,g]=(0,a.useState)(1),[p,b]=(0,a.useState)(4),[j,f]=(0,a.useState)(!1),[N,v]=(0,a.useState)("auto"),[y,w]=(0,a.useState)(3),[C,D]=(0,a.useState)([4,4,4]),[k,S]=(0,a.useState)(""),[M,I]=(0,a.useState)(!1),[E,_]=(0,a.useState)(!1),[A,B]=(0,a.useState)([]),L=(e,s)=>{let t=[...C];t[e]=s,D(t)},O=()=>C.reduce((e,s)=>e+s,0),F=async()=>{if(s.length<2)return void alert("최소 2명 이상의 참가자가 필요합니다.");if("manual"===N){let e=C.reduce((e,s)=>e+s,0);if(e<s.length)return void alert("설정된 그룹 크기의 총합(".concat(e,"명)이 참가자 수(").concat(s.length,"명)보다 적습니다."))}f(!0);try{(0,i.$p)("round_start","".concat(u,"라운드 시작 전"));let t="auto"===N?p:C,l=(0,n.B)(s,t,u),a=(0,n.$q)(s,l.groups,u);localStorage.setItem("groupingResult",JSON.stringify(l)),localStorage.setItem("participants",JSON.stringify(a)),localStorage.setItem("currentRound",String(u+1)),setTimeout(()=>{(0,i.$p)("round_complete","".concat(u,"라운드 배치 완료"))},100),e.push("/result")}catch(e){alert(e.message||"그룹 배치 중 오류가 발생했습니다."),console.error(e)}finally{f(!1)}};(0,a.useEffect)(()=>{let e=localStorage.getItem("participants"),s=localStorage.getItem("currentRound");if(e){let l=JSON.parse(e),a=s?Number(s):1,r=(0,n.Nh)(l,a);t(r),localStorage.setItem("participants",JSON.stringify(r))}s&&g(Number(s))},[]);let P=async e=>{var s;let t=null==(s=e.target.files)?void 0:s[0];if(t){try{await (0,i.q3)(t),alert("데이터를 성공적으로 가져왔습니다!"),window.location.reload()}catch(e){alert("데이터 가져오기 실패: "+e.message)}e.target.value=""}},J=()=>{B((0,i.Sq)())};return(0,a.useEffect)(()=>{J()},[s,u]),(0,a.useEffect)(()=>{B((0,i.Sq)())},[]),(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,l.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"모임 자리 배치 프로그램"}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[s.length>0&&(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"현재 참가자"}),(0,l.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[s.length,"명"]})]}),(0,l.jsx)("button",{onClick:()=>{if(confirm("\uD83C\uDF89 새로운 모임을 시작하시겠습니까?\n\n다음 데이터가 초기화됩니다:\n• 모든 참가자 정보\n• 그룹 히스토리\n• 만난 사람 기록\n• 현재 라운드 정보\n\n\uD83D\uDCBE 백업 스냅샷은 유지됩니다."))try{localStorage.removeItem("participants"),localStorage.removeItem("currentRound"),localStorage.removeItem("groupingResult"),localStorage.removeItem("exitedParticipants"),t([]),g(1),d(""),m("male"),h("extrovert"),b(4),v("auto"),w(3),D([4,4,4]),S(""),I(!1),_(!1),alert("✅ 새로운 모임이 시작되었습니다!")}catch(e){console.error("초기화 중 오류 발생:",e),alert("❌ 초기화 중 오류가 발생했습니다. 페이지를 새로고침 해주세요.")}},className:"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white font-medium py-3 px-6 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",title:"새로운 모임을 시작합니다 (백업은 유지됩니다)",children:(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,l.jsx)("span",{children:"새로운 모임 시작"})]})})]})]}),0===s.length&&(0,l.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,l.jsx)("span",{className:"text-blue-700 font-medium",children:"새로운 모임을 시작하세요!"})]}),(0,l.jsx)("p",{className:"text-blue-600 text-sm mt-1",children:"참가자를 추가하고 그룹을 배치하여 즐거운 모임을 만들어보세요."})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"참석자 추가"}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsxs)("label",{className:"block text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[(0,l.jsx)("span",{className:"text-purple-500 mr-2",children:"⚙️"}),"그룹 설정 방식"]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,l.jsx)("div",{onClick:()=>v("auto"),className:"cursor-pointer rounded-xl border-2 transition-all duration-300 transform hover:-translate-y-1 hover:shadow-lg ".concat("auto"===N?"border-blue-500 bg-gradient-to-br from-blue-50 to-indigo-100 shadow-lg":"border-gray-200 bg-white hover:border-blue-300"),children:(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center ".concat("auto"===N?"bg-blue-500 text-white":"bg-gray-200 text-gray-600"),children:"\uD83E\uDD16"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-bold text-lg text-gray-800",children:"자동 모드"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"동일한 크기로 자동 배치"})]})]}),(0,l.jsx)("div",{className:"w-6 h-6 rounded-full border-2 flex items-center justify-center ".concat("auto"===N?"border-blue-500 bg-blue-500":"border-gray-300"),children:"auto"===N&&(0,l.jsx)("div",{className:"w-3 h-3 bg-white rounded-full"})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,l.jsx)("span",{className:"mr-2",children:"✅"}),(0,l.jsx)("span",{children:"간편한 설정"})]}),(0,l.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,l.jsx)("span",{className:"mr-2",children:"⚡"}),(0,l.jsx)("span",{children:"빠른 배치"})]}),(0,l.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,l.jsx)("span",{className:"mr-2",children:"\uD83C\uDFAF"}),(0,l.jsx)("span",{children:"균등한 그룹 크기"})]})]}),"auto"===N&&(0,l.jsxs)("div",{className:"mt-4 p-3 bg-white bg-opacity-60 rounded-lg",children:[(0,l.jsx)("div",{className:"text-xs text-blue-700 font-medium",children:"현재 설정"}),(0,l.jsxs)("div",{className:"text-sm text-blue-800",children:["그룹당 ",p,"명 \xb7 예상 ",s.length>0?Math.ceil(s.length/p):0,"개 그룹"]})]})]})}),(0,l.jsx)("div",{onClick:()=>v("manual"),className:"cursor-pointer rounded-xl border-2 transition-all duration-300 transform hover:-translate-y-1 hover:shadow-lg ".concat("manual"===N?"border-purple-500 bg-gradient-to-br from-purple-50 to-pink-100 shadow-lg":"border-gray-200 bg-white hover:border-purple-300"),children:(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center ".concat("manual"===N?"bg-purple-500 text-white":"bg-gray-200 text-gray-600"),children:"\uD83C\uDFA8"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-bold text-lg text-gray-800",children:"수동 모드"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"개별 그룹 크기 설정"})]})]}),(0,l.jsx)("div",{className:"w-6 h-6 rounded-full border-2 flex items-center justify-center ".concat("manual"===N?"border-purple-500 bg-purple-500":"border-gray-300"),children:"manual"===N&&(0,l.jsx)("div",{className:"w-3 h-3 bg-white rounded-full"})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,l.jsx)("span",{className:"mr-2",children:"\uD83C\uDF9B️"}),(0,l.jsx)("span",{children:"세밀한 조정"})]}),(0,l.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,l.jsx)("span",{className:"mr-2",children:"\uD83C\uDFAF"}),(0,l.jsx)("span",{children:"맞춤형 그룹"})]}),(0,l.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,l.jsx)("span",{className:"mr-2",children:"\uD83D\uDC8E"}),(0,l.jsx)("span",{children:"유연한 설정"})]})]}),"manual"===N&&(0,l.jsxs)("div",{className:"mt-4 p-3 bg-white bg-opacity-60 rounded-lg",children:[(0,l.jsx)("div",{className:"text-xs text-purple-700 font-medium",children:"현재 설정"}),(0,l.jsxs)("div",{className:"text-sm text-purple-800",children:[y,"개 그룹 \xb7 총 ",O(),"명 예상"]})]})]})})]}),(0,l.jsx)("div",{className:"p-6 rounded-xl border-2 transition-all duration-300 ".concat("auto"===N?"border-blue-200 bg-gradient-to-br from-blue-50 to-blue-100":"border-purple-200 bg-gradient-to-br from-purple-50 to-purple-100"),children:"auto"===N?(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("h4",{className:"text-lg font-semibold text-gray-800 flex items-center mb-4",children:[(0,l.jsx)("span",{className:"text-blue-500 mr-2",children:"\uD83E\uDD16"}),"자동 모드 설정"]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"그룹 크기 선택"}),(0,l.jsx)("div",{className:"grid grid-cols-2 gap-2",children:[3,4,5,6].map(e=>(0,l.jsxs)("button",{onClick:()=>b(e),className:"p-3 rounded-lg border-2 transition-all duration-200 text-center font-medium ".concat(p===e?"border-blue-500 bg-blue-500 text-white shadow-md":"border-gray-300 bg-white text-gray-700 hover:border-blue-300 hover:bg-blue-50"),children:[(0,l.jsxs)("div",{className:"text-lg",children:[e,"명"]}),(0,l.jsx)("div",{className:"text-xs opacity-75",children:"그룹당"})]},e))})]}),(0,l.jsxs)("div",{className:"bg-white bg-opacity-70 p-4 rounded-lg",children:[(0,l.jsxs)("h5",{className:"font-medium text-gray-700 mb-2 flex items-center",children:[(0,l.jsx)("span",{className:"mr-2",children:"\uD83D\uDCCA"}),"예상 결과"]}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"현재 참가자:"}),(0,l.jsxs)("span",{className:"font-medium text-blue-700",children:[s.length,"명"]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"예상 그룹 수:"}),(0,l.jsxs)("span",{className:"font-medium text-blue-700",children:[s.length>0?Math.ceil(s.length/p):0,"개"]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"그룹당 인원:"}),(0,l.jsxs)("span",{className:"font-medium text-blue-700",children:[p,"명"]})]}),s.length%p!=0&&s.length>0&&(0,l.jsxs)("div",{className:"mt-2 p-2 bg-orange-100 rounded text-xs text-orange-700",children:["⚠️ 마지막 그룹: ",s.length%p,"명"]})]})]})]})]}):(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("h4",{className:"text-lg font-semibold text-gray-800 flex items-center mb-4",children:[(0,l.jsx)("span",{className:"text-purple-500 mr-2",children:"\uD83C\uDFA8"}),"수동 모드 설정"]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"그룹 수 선택"}),(0,l.jsx)("div",{className:"grid grid-cols-2 gap-2",children:[2,3,4,5,6,7,8].map(e=>(0,l.jsx)("button",{onClick:()=>(e=>{w(e);let s=[...C];if(e>C.length)for(;s.length<e;)s.push(4);else e<C.length&&s.splice(e);D(s)})(e),className:"p-2 rounded-lg border-2 transition-all duration-200 text-center font-medium ".concat(y===e?"border-purple-500 bg-purple-500 text-white shadow-md":"border-gray-300 bg-white text-gray-700 hover:border-purple-300 hover:bg-purple-50"),children:(0,l.jsxs)("div",{className:"text-sm",children:[e,"개"]})},e))})]}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"각 그룹 인원 수"}),(0,l.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:C.map((e,s)=>(0,l.jsxs)("div",{className:"flex items-center space-x-3 bg-white bg-opacity-70 p-2 rounded-lg",children:[(0,l.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-purple-100 text-purple-600 rounded-full text-sm font-medium",children:s+1}),(0,l.jsx)("span",{className:"text-sm text-gray-600 min-w-[50px]",children:"그룹:"}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("button",{onClick:()=>L(s,Math.max(2,e-1)),className:"w-6 h-6 bg-purple-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-purple-600",children:"-"}),(0,l.jsx)("span",{className:"w-8 text-center font-medium",children:e}),(0,l.jsx)("button",{onClick:()=>L(s,Math.min(20,e+1)),className:"w-6 h-6 bg-purple-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-purple-600",children:"+"}),(0,l.jsx)("span",{className:"text-sm text-gray-500",children:"명"})]})]},s))})]}),(0,l.jsxs)("div",{className:"bg-white bg-opacity-70 p-4 rounded-lg",children:[(0,l.jsxs)("h5",{className:"font-medium text-gray-700 mb-3 flex items-center",children:[(0,l.jsx)("span",{className:"mr-2",children:"\uD83D\uDCCA"}),"설정 요약"]}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"현재 참가자:"}),(0,l.jsxs)("span",{className:"font-medium text-purple-700",children:[s.length,"명"]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"설정 그룹 수:"}),(0,l.jsxs)("span",{className:"font-medium text-purple-700",children:[y,"개"]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"총 예상 인원:"}),(0,l.jsxs)("span",{className:"font-medium text-purple-700",children:[O(),"명"]})]}),(0,l.jsx)("div",{className:"mt-3 pt-2 border-t border-gray-200",children:O()===s.length?(0,l.jsxs)("div",{className:"flex items-center text-green-600 text-xs",children:[(0,l.jsx)("span",{className:"mr-1",children:"✅"}),(0,l.jsx)("span",{children:"완벽한 배치!"})]}):O()<s.length?(0,l.jsxs)("div",{className:"flex items-center text-red-600 text-xs",children:[(0,l.jsx)("span",{className:"mr-1",children:"⚠️"}),(0,l.jsxs)("span",{children:[s.length-O(),"명 초과"]})]}):(0,l.jsxs)("div",{className:"flex items-center text-orange-600 text-xs",children:[(0,l.jsx)("span",{className:"mr-1",children:"\uD83D\uDCA1"}),(0,l.jsxs)("span",{children:[O()-s.length,"명 여유"]})]})})]})]})]})]})})]}),(0,l.jsx)("div",{className:"mb-6",children:(0,l.jsxs)("div",{className:"relative bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl p-6 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("div",{className:"bg-white bg-opacity-20 rounded-full p-3 animate-pulse",children:(0,l.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-blue-100",children:"현재 진행중"}),(0,l.jsxs)("div",{className:"text-3xl font-bold bg-gradient-to-r from-yellow-300 to-orange-300 bg-clip-text text-transparent",children:[u,"라운드"]})]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("div",{className:"text-blue-100 text-sm",children:"참가자"}),(0,l.jsxs)("div",{className:"text-2xl font-bold",children:[s.length,"명"]}),s.length>=2&&(0,l.jsxs)("div",{className:"inline-flex items-center mt-1 px-2 py-1 bg-green-500 bg-opacity-20 rounded-full",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-1 animate-ping"}),(0,l.jsx)("span",{className:"text-xs text-green-200",children:"배치 가능"})]})]})]}),s.length>0&&(0,l.jsx)("div",{className:"mt-4 pt-4 border-t border-white border-opacity-20",children:(0,l.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,l.jsx)("span",{className:"text-blue-100",children:"auto"===N?"예상 그룹: ".concat(Math.ceil(s.length/p),"개 (").concat(p,"명씩)"):"설정 그룹: ".concat(y,"개 (총 ").concat(O(),"명)")}),"manual"===N&&O()!==s.length&&(0,l.jsx)("span",{className:"font-medium px-2 py-1 rounded-full text-xs ".concat(O()<s.length?"bg-red-500 bg-opacity-20 text-red-200":"bg-yellow-500 bg-opacity-20 text-yellow-200"),children:O()<s.length?"".concat(s.length-O(),"명 초과"):"".concat(O()-s.length,"명 여유")})]})}),(0,l.jsx)("div",{className:"absolute top-0 right-0 -mr-2 -mt-2 w-16 h-16 bg-white bg-opacity-10 rounded-full animate-bounce"}),(0,l.jsx)("div",{className:"absolute bottom-0 left-0 -ml-2 -mb-2 w-12 h-12 bg-white bg-opacity-10 rounded-full animate-pulse"}),(0,l.jsx)("div",{className:"absolute top-1/2 right-4 w-3 h-3 bg-yellow-300 rounded-full animate-ping opacity-75"})]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[(0,l.jsx)("input",{type:"text",placeholder:"이름",value:c,onChange:e=>d(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,l.jsxs)("select",{value:o,onChange:e=>m(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,l.jsx)("option",{value:"male",children:"남성"}),(0,l.jsx)("option",{value:"female",children:"여성"})]}),(0,l.jsxs)("select",{value:x,onChange:e=>h(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,l.jsx)("option",{value:"extrovert",children:"외향형"}),(0,l.jsx)("option",{value:"introvert",children:"내향형"})]}),(0,l.jsx)("button",{onClick:()=>{if(c.trim()){let e={id:Date.now().toString(),name:c.trim(),gender:o,mbti:x,meetingsByRound:{},allMetPeople:[],groupHistory:[]};t([...s,e]),d(""),setTimeout(()=>{(0,i.$p)("participant_add","참가자 추가: ".concat(e.name))},100)}},className:"bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-md",children:"추가"})]}),(0,l.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,l.jsx)("h3",{className:"text-lg font-medium",children:"벌크 추가"}),(0,l.jsx)("button",{onClick:()=>I(!M),className:"text-blue-500 hover:text-blue-700 text-sm",children:M?"숨기기":"여러 명 한번에 추가"})]}),M&&(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,l.jsx)("p",{className:"mb-2",children:"지원하는 형식:"}),(0,l.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[(0,l.jsx)("li",{children:"이름만: 김철수 (기본값: 남성, 외향형)"}),(0,l.jsx)("li",{children:"공백 구분: 김철수 남 외향"}),(0,l.jsx)("li",{children:"쉼표 구분: 김철수,남,외향"}),(0,l.jsx)("li",{children:"성별: 남/여 또는 male/female 또는 m/f"}),(0,l.jsx)("li",{children:"MBTI: 외향/내향 또는 extrovert/introvert 또는 e/i"})]}),(0,l.jsxs)("div",{className:"mt-3 p-2 bg-gray-100 rounded text-xs",children:[(0,l.jsx)("strong",{children:"예시:"}),(0,l.jsx)("br",{}),"김철수",(0,l.jsx)("br",{}),"이영희,여,내향",(0,l.jsx)("br",{}),"박민수 남 외향"]})]}),(0,l.jsx)("textarea",{value:k,onChange:e=>S(e.target.value),placeholder:"여기에 참가자 정보를 입력해 주세요 (한 줄에 한 명씩)",className:"w-full h-32 border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("button",{onClick:()=>{if(!k.trim())return;let e=k.trim().split("\n"),l=[];e.forEach((e,s)=>{let t=e.trim();if(!t)return;let a="",r="male",n="extrovert";if(t.includes(",")){let e=t.split(",").map(e=>e.trim());if(a=e[0]||"",e[1]){let s=e[1].toLowerCase();(s.includes("여")||s.includes("female")||s.includes("f"))&&(r="female")}if(e[2]){let s=e[2].toLowerCase();(s.includes("내향")||s.includes("introvert")||s.includes("i"))&&(n="introvert")}}else if(t.includes(" ")){let e=t.split(/\s+/);if(a=e[0]||"",e[1]){let s=e[1].toLowerCase();(s.includes("여")||s.includes("female")||s.includes("f"))&&(r="female")}if(e[2]){let s=e[2].toLowerCase();(s.includes("내향")||s.includes("introvert")||s.includes("i"))&&(n="introvert")}}else a=t;a&&l.push({id:"".concat(Date.now(),"-").concat(s),name:a,gender:r,mbti:n,meetingsByRound:{},allMetPeople:[],groupHistory:[]})}),l.length>0&&(t([...s,...l]),S(""),I(!1),setTimeout(()=>{(0,i.$p)("bulk_add","벌크 추가: ".concat(l.length,"명"))},100))},className:"bg-green-500 hover:bg-green-600 text-white font-medium py-2 px-4 rounded-md text-sm",children:"벌크 추가"}),(0,l.jsx)("button",{onClick:()=>{S(""),I(!1)},className:"bg-gray-500 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded-md text-sm",children:"취소"})]})]})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,l.jsxs)("h2",{className:"text-xl font-semibold mb-4",children:["참석자 목록 (",s.length,"명)"]}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:s.sort((e,s)=>e.name.localeCompare(s.name,"ko")).map(e=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-md",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:e.name}),(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:["male"===e.gender?"남성":"여성"," \xb7 "," ","extrovert"===e.mbti?"외향형":"내향형"]}),e.allMetPeople&&e.allMetPeople.length>0&&(0,l.jsxs)("div",{className:"text-xs text-blue-600",children:["만난 사람: ",e.allMetPeople.length,"명"]}),e.groupHistory&&e.groupHistory.length>0&&(0,l.jsxs)("div",{className:"text-xs text-purple-600",children:["그룹 히스토리: ",e.groupHistory.slice(-3).join(", ")]})]}),(0,l.jsx)("button",{onClick:()=>(e=>{let l=s.find(s=>s.id===e);if(l){let s=JSON.parse(localStorage.getItem("exitedParticipants")||"{}");s[e]={name:l.name,gender:l.gender},localStorage.setItem("exitedParticipants",JSON.stringify(s)),(0,i.$p)("participant_remove","참가자 제거: ".concat(l.name))}t(s.filter(s=>s.id!==e))})(e.id),className:"text-red-500 hover:text-red-700",children:"삭제"})]},e.id))}),s.length>=2&&(0,l.jsx)("div",{className:"mt-6 text-center",children:(0,l.jsx)("button",{onClick:F,disabled:j,className:"bg-green-500 hover:bg-green-600 disabled:bg-gray-400 text-white font-medium py-3 px-6 rounded-md",children:j?"배치 중...":"그룹 배치하기"})})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold",children:"데이터 백업 및 복원"}),(0,l.jsx)("button",{onClick:()=>_(!E),className:"text-blue-500 hover:text-blue-700 text-sm",children:E?"숨기기":"백업 메뉴 열기"})]}),E&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,l.jsxs)("h3",{className:"text-lg font-medium mb-3 flex items-center",children:[(0,l.jsx)("span",{className:"text-blue-500 mr-2",children:"\uD83D\uDCBE"}),"데이터 내보내기 / 가져오기"]}),(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsx)("button",{onClick:()=>{(0,i.Uh)()},className:"bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-md",children:"데이터 내보내기 (JSON)"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("input",{type:"file",accept:".json",onChange:P,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),(0,l.jsx)("button",{className:"bg-green-500 hover:bg-green-600 text-white font-medium py-2 px-4 rounded-md",children:"데이터 가져오기 (JSON)"})]})]}),(0,l.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"\uD83D\uDCA1 중요한 데이터는 정기적으로 내보내기하여 백업하세요."})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,l.jsxs)("h3",{className:"text-lg font-medium flex items-center",children:[(0,l.jsx)("span",{className:"text-orange-500 mr-2",children:"\uD83D\uDCF8"}),"자동 스냅샷 복원"]}),(0,l.jsx)("button",{onClick:J,className:"text-blue-500 hover:text-blue-700 text-sm",children:"새로고침"})]}),0===A.length?(0,l.jsx)("p",{className:"text-gray-500 text-sm",children:"저장된 스냅샷이 없습니다."}):(0,l.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:A.slice(-10).reverse().map(e=>(0,l.jsxs)("div",{className:"flex justify-between items-center p-3 border border-gray-200 rounded-md hover:bg-gray-50",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("div",{className:"font-medium text-sm",children:e.description}),(0,l.jsx)("div",{className:"text-xs text-gray-500",children:(0,i.r6)(e.timestamp)})]}),(0,l.jsx)("button",{onClick:()=>{var s;return s=e.id,void(confirm("이 시점으로 복원하시겠습니까? 현재 데이터는 백업됩니다.")&&((0,i.n5)(s)?(alert("복원이 완료되었습니다!"),window.location.reload()):alert("복원 중 오류가 발생했습니다.")))},className:"bg-orange-500 hover:bg-orange-600 text-white text-xs py-1 px-3 rounded",children:"복원"})]},e.id))}),(0,l.jsx)("p",{className:"text-sm text-gray-600 mt-3",children:"\uD83D\uDCA1 참가자 추가/제거, 그룹 배치, 위치 변경 시 자동으로 스냅샷이 생성됩니다."})]})]})]})]})})}}},e=>{e.O(0,[220,441,964,358],()=>e(e.s=740)),_N_E=e.O()}]);