(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[834],{5604:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(5155),n=s(2115),l=s(5695),a=s(2998),i=s(2945);function d(){let e=(0,l.useRouter)(),[t,s]=(0,n.useState)(null),[d,m]=(0,n.useState)([]),[o,c]=(0,n.useState)({}),[x,u]=(0,n.useState)(null),[g,h]=(0,n.useState)({name:"",gender:"male",mbti:"extrovert"}),[b,p]=(0,n.useState)(null),[f,v]=(0,n.useState)(null),[j,N]=(0,n.useState)("groups"),[y,C]=(0,n.useState)(null);(0,n.useEffect)(()=>{let t=localStorage.getItem("groupingResult"),r=localStorage.getItem("participants"),n=localStorage.getItem("exitedParticipants");if(t&&r){let e=JSON.parse(t),l=JSON.parse(r);n&&c(JSON.parse(n));let i=(0,a.Nh)(l,e.round||1);s(e),m(i),localStorage.setItem("participants",JSON.stringify(i))}else e.push("/")},[e]);let w=(e,t,s)=>{let r=new Set;return Object.entries(e.meetingsByRound).forEach(e=>{let[t,n]=e;parseInt(t)<s&&n.forEach(e=>r.add(e))}),r.has(t.id)},S=(e,s)=>{if(!t)throw Error("Result is null");let r=e.map(e=>{let r=e.members.filter(e=>"male"===e.gender).length,n=e.members.filter(e=>"female"===e.gender).length,l=e.members.filter(e=>"extrovert"===e.mbti).length,a=e.members.filter(e=>"introvert"===e.mbti).length,i=0;for(let r=0;r<e.members.length;r++)for(let n=r+1;n<e.members.length;n++){let l=s.find(t=>t.id===e.members[r].id),a=s.find(t=>t.id===e.members[n].id);l&&a&&!w(l,a,t.round||1)&&i++}return{...e,maleCount:r,femaleCount:n,extrovertCount:l,introvertCount:a,newMeetingsCount:i}}),n=r.reduce((e,t)=>e+t.newMeetingsCount,0),l=s.length,a=0;r.forEach(e=>{if(e.members.length>0){let t=1-Math.abs(e.maleCount-e.femaleCount)/e.members.length;a+=t}});let i=r.length>0?a/r.length:0,d=0;r.forEach(e=>{if(e.members.length>0){let t=1-Math.abs(e.extrovertCount-e.introvertCount)/e.members.length;d+=t}});let m=r.length>0?d/r.length:0;return{groups:r,round:t.round,summary:{totalGroups:r.length,avgGroupSize:r.length>0?l/r.length:0,genderBalanceScore:Math.round(100*i),mbtiBalanceScore:Math.round(100*m),newMeetingsCount:n}}},M=()=>{h({name:"",gender:"male",mbti:"extrovert"}),u(null)},D=e=>{e.preventDefault()},B=e=>e>=80?"text-green-600":e>=60?"text-yellow-600":"text-red-600",k=e=>e>=80?"우수":e>=60?"보통":"개선필요";return t?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 py-8",children:[f&&(0,r.jsx)("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 transition-all duration-300 ease-in-out",children:(0,r.jsxs)("div",{className:"bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg flex items-center",children:[(0,r.jsx)("span",{className:"mr-2",children:"✅"}),(0,r.jsx)("span",{className:"font-medium",children:f})]})}),(0,r.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:[t.round,"라운드 그룹 배치 결과"]}),(0,r.jsx)("p",{className:"text-gray-600",children:"최적화된 그룹 배치가 완료되었습니다"})]}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-md mb-8",children:(0,r.jsxs)("div",{className:"flex border-b border-gray-200",children:[(0,r.jsxs)("button",{onClick:()=>N("groups"),className:"flex-1 py-4 px-6 text-center font-medium transition-colors ".concat("groups"===j?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"),children:[(0,r.jsx)("span",{className:"text-lg mr-2",children:"\uD83D\uDC65"}),"그룹 결과"]}),(0,r.jsxs)("button",{onClick:()=>N("stats"),className:"flex-1 py-4 px-6 text-center font-medium transition-colors ".concat("stats"===j?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"),children:[(0,r.jsx)("span",{className:"text-lg mr-2",children:"\uD83D\uDCCA"}),"참가자 통계"]})]})}),"groups"===j&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"배치 요약"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:t.summary.totalGroups}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"총 그룹 수"})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-green-600",children:t.summary.newMeetingsCount}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"새로운 만남"})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold ".concat(B(t.summary.genderBalanceScore)),children:[t.summary.genderBalanceScore,"%"]}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"성별 균형"}),(0,r.jsx)("div",{className:"text-xs ".concat(B(t.summary.genderBalanceScore)),children:k(t.summary.genderBalanceScore)})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold ".concat(B(t.summary.mbtiBalanceScore)),children:[t.summary.mbtiBalanceScore,"%"]}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"MBTI 균형"}),(0,r.jsx)("div",{className:"text-xs ".concat(B(t.summary.mbtiBalanceScore)),children:k(t.summary.mbtiBalanceScore)})]})]})]}),(0,r.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"text-blue-400 text-lg",children:"\uD83D\uDD04"})}),(0,r.jsx)("div",{className:"ml-3",children:(0,r.jsxs)("div",{className:"text-sm text-blue-700",children:[(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("strong",{children:"위치 변경:"})," 참가자를 드래그해서 다른 참가자에게 드롭하면 두 사람의 위치가 바뀝니다."]}),(0,r.jsxs)("p",{className:"text-xs text-blue-600",children:["\uD83D\uDCDD ",(0,r.jsx)("strong",{children:"업데이트되는 상태:"})," 그룹 구성, 성별/MBTI 통계, 새로운 만남 수, 그룹 히스토리"]})]})})]})}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:t.groups.filter(e=>e.members.length>0).map(e=>(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-800",children:["그룹 ",e.id]}),(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:[e.members.length,"명"]})]}),(0,r.jsx)("div",{className:"mb-4 p-3 bg-gray-50 rounded-md",children:(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"성별 비율"}),(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:["남 ",e.maleCount," \xb7 여 ",e.femaleCount]})]}),(0,r.jsxs)("div",{className:"flex h-4 bg-gray-200 rounded-full overflow-hidden",children:[e.maleCount>0&&(0,r.jsx)("div",{className:"bg-blue-500 flex items-center justify-center text-white text-xs font-medium transition-all duration-500",style:{width:"".concat(e.maleCount/e.members.length*100,"%")},children:e.maleCount>0&&e.members.length>3&&(0,r.jsx)("span",{children:e.maleCount})}),e.femaleCount>0&&(0,r.jsx)("div",{className:"bg-pink-500 flex items-center justify-center text-white text-xs font-medium transition-all duration-500",style:{width:"".concat(e.femaleCount/e.members.length*100,"%")},children:e.femaleCount>0&&e.members.length>3&&(0,r.jsx)("span",{children:e.femaleCount})})]}),(0,r.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,r.jsxs)("span",{children:["남성 ",Math.round(e.maleCount/e.members.length*100),"%"]}),(0,r.jsxs)("span",{children:["여성 ",Math.round(e.femaleCount/e.members.length*100),"%"]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"MBTI 비율"}),(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:["외향 ",e.extrovertCount," \xb7 내향 ",e.introvertCount]})]}),(0,r.jsxs)("div",{className:"flex h-4 bg-gray-200 rounded-full overflow-hidden",children:[e.extrovertCount>0&&(0,r.jsx)("div",{className:"bg-orange-500 flex items-center justify-center text-white text-xs font-medium transition-all duration-500",style:{width:"".concat(e.extrovertCount/e.members.length*100,"%")},children:e.extrovertCount>0&&e.members.length>3&&(0,r.jsx)("span",{children:e.extrovertCount})}),e.introvertCount>0&&(0,r.jsx)("div",{className:"bg-purple-500 flex items-center justify-center text-white text-xs font-medium transition-all duration-500",style:{width:"".concat(e.introvertCount/e.members.length*100,"%")},children:e.introvertCount>0&&e.members.length>3&&(0,r.jsx)("span",{children:e.introvertCount})})]}),(0,r.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,r.jsxs)("span",{children:["외향형 ",Math.round(e.extrovertCount/e.members.length*100),"%"]}),(0,r.jsxs)("span",{children:["내향형 ",Math.round(e.introvertCount/e.members.length*100),"%"]})]})]}),(0,r.jsxs)("div",{className:"flex justify-between text-xs pt-2 border-t border-gray-300",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"text-gray-600 mr-1",children:"성별 균형:"}),(0,r.jsx)("span",{className:"font-medium ".concat(1>=Math.abs(e.maleCount-e.femaleCount)?"text-green-600":2>=Math.abs(e.maleCount-e.femaleCount)?"text-yellow-600":"text-red-600"),children:1>=Math.abs(e.maleCount-e.femaleCount)?"우수":2>=Math.abs(e.maleCount-e.femaleCount)?"보통":"개선필요"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"text-gray-600 mr-1",children:"MBTI 균형:"}),(0,r.jsx)("span",{className:"font-medium ".concat(1>=Math.abs(e.extrovertCount-e.introvertCount)?"text-green-600":2>=Math.abs(e.extrovertCount-e.introvertCount)?"text-yellow-600":"text-red-600"),children:1>=Math.abs(e.extrovertCount-e.introvertCount)?"우수":2>=Math.abs(e.extrovertCount-e.introvertCount)?"보통":"개선필요"})]})]})]})}),(0,r.jsxs)("div",{className:"space-y-2",children:[e.members.map(n=>{var l;let a=d.find(e=>e.id===n.id),o=(null==a||null==(l=a.groupHistory)?void 0:l.slice(0,-1))||[],c=(null==b?void 0:b.id)===n.id;return(0,r.jsxs)("div",{draggable:!0,onDragStart:()=>{p({id:n.id,fromGroupId:e.id})},onDragOver:D,onDrop:()=>((e,r)=>{if(b){if(b.id===e)return void p(null);if(b.fromGroupId===r){v("❌ 같은 그룹 내에서는 자리 바꾸기가 불가능합니다."),setTimeout(()=>v(null),3e3),p(null);return}((e,r,n,l)=>{var a,o,c,x;if(!t)return;let u=t.groups.map(s=>{if(s.id===r){let r=s.members.map(s=>{var r;return s.id===e?null==(r=t.groups.find(e=>e.id===l))?void 0:r.members.find(e=>e.id===n):s});return{...s,members:r}}if(s.id===l){let l=s.members.map(s=>{var l;return s.id===n?null==(l=t.groups.find(e=>e.id===r))?void 0:l.members.find(t=>t.id===e):s});return{...s,members:l}}return s}),g=t.round||1,h=d.map(t=>{var s,a;let i={...t};if(t.id===e){let r=[...t.groupHistory];r.length>0&&(r[r.length-1]=l),i.groupHistory=r;let n={...t.meetingsByRound};n[g]||(n[g]=[]);let a=((null==(s=u.find(e=>e.id===l))?void 0:s.members)||[]).filter(t=>t.id!==e).map(e=>e.id);n[g]=a,i.meetingsByRound=n}else if(t.id===n){let e=[...t.groupHistory];e.length>0&&(e[e.length-1]=r),i.groupHistory=e;let s={...t.meetingsByRound};s[g]||(s[g]=[]);let l=((null==(a=u.find(e=>e.id===r))?void 0:a.members)||[]).filter(e=>e.id!==n).map(e=>e.id);s[g]=l,i.meetingsByRound=s}else{let e={...t.meetingsByRound};e[g]||(e[g]=[]);let s=u.find(e=>e.members.some(e=>e.id===t.id));if(s){let r=s.members.filter(e=>e.id!==t.id).map(e=>e.id);e[g]=r}i.meetingsByRound=e}return i}),b=S(u,h);s(b),m(h),localStorage.setItem("groupingResult",JSON.stringify(b)),localStorage.setItem("participants",JSON.stringify(h));let p=null==(o=t.groups.find(e=>e.id===r))||null==(a=o.members.find(t=>t.id===e))?void 0:a.name,f=null==(x=t.groups.find(e=>e.id===l))||null==(c=x.members.find(e=>e.id===n))?void 0:c.name;v("".concat(p," ↔ ").concat(f," 위치 변경 완료!")),(0,i.$p)("swap","".concat(p," ↔ ").concat(f," 위치 변경")),setTimeout(()=>v(null),3e3)})(b.id,b.fromGroupId,e,r),p(null)}})(n.id,e.id),className:"\n                        flex items-center justify-between p-2 border border-gray-200 rounded cursor-move\n                        transition-all duration-200\n                        ".concat(c?"opacity-50 scale-95 border-blue-400 bg-blue-50":"hover:border-blue-300 hover:bg-blue-50","\n                        ").concat(b&&b.id!==n.id?"border-green-300 bg-green-50 hover:border-green-400 hover:bg-green-100 shadow-md":"","\n                      "),title:b&&b.id!==n.id?"".concat(n.name,"과 위치 바꾸기"):"드래그해서 다른 사람과 위치 바꾸기",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:n.name}),(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:["male"===n.gender?"남성":"여성"," \xb7 "," ","extrovert"===n.mbti?"외향":"내향"]}),(0,r.jsxs)("div",{className:"text-xs text-blue-600",children:["현재 그룹: ",e.id]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[o.length>0&&(0,r.jsxs)("div",{className:"text-xs text-gray-400",children:["이전: ",o.slice(-3).join(", ")]}),(0,r.jsx)("div",{className:"text-gray-400 text-sm",children:"⋮⋮"})]})]},n.id)}),x===e.id?(0,r.jsxs)("div",{className:"p-3 bg-blue-50 border-2 border-blue-200 rounded-lg",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"새 참가자 추가"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("input",{type:"text",placeholder:"이름",value:g.name,onChange:e=>h({...g,name:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("select",{value:g.gender,onChange:e=>h({...g,gender:e.target.value}),className:"border border-gray-300 rounded-md px-2 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"male",children:"남성"}),(0,r.jsx)("option",{value:"female",children:"여성"})]}),(0,r.jsxs)("select",{value:g.mbti,onChange:e=>h({...g,mbti:e.target.value}),className:"border border-gray-300 rounded-md px-2 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"extrovert",children:"외향형"}),(0,r.jsx)("option",{value:"introvert",children:"내향형"})]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>(e=>{if(!g.name.trim()||!t)return;let r=t.groups.find(t=>t.id===e);if(!r)return;let n=r.members.map(e=>e.id),l=t.round||1,a={id:Date.now().toString(),name:g.name.trim(),gender:g.gender,mbti:g.mbti,meetingsByRound:{[l]:[...n]},allMetPeople:[...n],groupHistory:[e]},o=d.map(e=>{if(n.includes(e.id)){let t={...e.meetingsByRound};t[l]||(t[l]=[]),t[l].includes(a.id)||t[l].push(a.id);let s=[...e.allMetPeople];return s.includes(a.id)||s.push(a.id),{...e,meetingsByRound:t,allMetPeople:s}}return e});o.push(a);let c=t.groups.map(t=>{if(t.id===e){let e=[...t.members,a],s=e.filter(e=>"male"===e.gender).length,r=e.filter(e=>"female"===e.gender).length,n=e.filter(e=>"extrovert"===e.mbti).length,l=e.filter(e=>"introvert"===e.mbti).length;return{...t,members:e,maleCount:s,femaleCount:r,extrovertCount:n,introvertCount:l}}return t}),x=0;c.forEach(e=>{for(let s=0;s<e.members.length;s++)for(let r=s+1;r<e.members.length;r++){let n=o.find(t=>t.id===e.members[s].id),l=o.find(t=>t.id===e.members[r].id);n&&l&&!w(n,l,t.round||1)&&x++}});let b=S(c,o);s(b),m(o),localStorage.setItem("groupingResult",JSON.stringify(b)),localStorage.setItem("participants",JSON.stringify(o)),(0,i.$p)("participant_add_result","그룹 ".concat(e,"에 ").concat(a.name," 추가")),h({name:"",gender:"male",mbti:"extrovert"}),u(null)})(e.id),disabled:!g.name.trim(),className:"flex-1 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white font-medium py-2 px-3 rounded-md text-sm",children:"추가"}),(0,r.jsx)("button",{onClick:M,className:"flex-1 bg-gray-500 hover:bg-gray-600 text-white font-medium py-2 px-3 rounded-md text-sm",children:"취소"})]})]})]}):(0,r.jsx)("button",{onClick:()=>u(e.id),className:"w-full p-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:border-blue-400 hover:text-blue-500 transition-colors",children:(0,r.jsxs)("div",{className:"flex items-center justify-center",children:[(0,r.jsx)("span",{className:"text-lg mr-1",children:"+"}),(0,r.jsx)("span",{className:"text-sm",children:"참가자 추가"})]})})]}),(0,r.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:(0,r.jsxs)("div",{className:"text-xs text-green-600",children:["새로운 만남: ",e.newMeetingsCount,"쌍"]})})]},e.id))})]}),"stats"===j&&(0,r.jsx)("div",{className:"space-y-6",children:(()=>{let e=d.map(e=>{let s=(e=>{if(!t)return[];let s=d.find(t=>t.id===e),r=t.round||1,n=new Set;return Object.entries((null==s?void 0:s.meetingsByRound)||{}).forEach(e=>{let[t,s]=e;parseInt(t)<r&&s.forEach(e=>n.add(e))}),Array.from(n)})(e.id),r=(e=>{if(!t)return[];let s=d.find(t=>t.id===e),r=t.round||1;return(null==s?void 0:s.meetingsByRound[r])||[]})(e.id),n=new Set;Object.values(e.meetingsByRound).forEach(e=>{e.forEach(e=>n.add(e))});let l=n.size,a=JSON.parse(localStorage.getItem("exitedParticipants")||"{}"),i=Array.from(n).filter(t=>{let s=d.find(e=>e.id===t);if(s)return s.gender!==e.gender;let r=a[t];return!!r&&r.gender!==e.gender}).length,m=r.filter(e=>!s.includes(e)).length,o=null==t?void 0:t.groups.find(t=>t.members.some(t=>t.id===e.id));return{...e,totalMet:l,oppositeMet:i,newInCurrentRound:m,currentGroupId:null==o?void 0:o.id,previousMeetings:s,currentRoundMeetings:r}}),s=e.reduce((e,t)=>(e[t.totalMet]=(e[t.totalMet]||0)+1,e),{}),n=e.reduce((e,t)=>(e[t.oppositeMet]=(e[t.oppositeMet]||0)+1,e),{}),l=Math.max(...e.map(e=>e.totalMet),0),a=Math.max(...e.map(e=>e.oppositeMet),0),i=Math.max(...Object.values(s),...Object.values(n),1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[(0,r.jsx)("span",{className:"text-blue-500 mr-2",children:"\uD83D\uDC65"}),"전체 만남 수 분포"]}),(0,r.jsx)("div",{className:"space-y-3",children:Array.from({length:l+1},(e,t)=>t).map(e=>(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("div",{className:"w-16 text-sm text-gray-600",children:[e,"명:"]}),(0,r.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-6 relative",children:(0,r.jsx)("div",{className:"bg-blue-500 h-6 rounded-full transition-all duration-500 flex items-center justify-end pr-2",style:{width:"".concat((s[e]||0)/i*100,"%")},children:(0,r.jsx)("span",{className:"text-white text-xs font-medium",children:s[e]||0})})})]},e))})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[(0,r.jsx)("span",{className:"text-pink-500 mr-2",children:"\uD83D\uDC95"}),"이성 만남 수 분포"]}),(0,r.jsx)("div",{className:"space-y-3",children:Array.from({length:a+1},(e,t)=>t).map(e=>(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("div",{className:"w-16 text-sm text-gray-600",children:[e,"명:"]}),(0,r.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-6 relative",children:(0,r.jsx)("div",{className:"bg-pink-500 h-6 rounded-full transition-all duration-500 flex items-center justify-end pr-2",style:{width:"".concat((n[e]||0)/i*100,"%")},children:(0,r.jsx)("span",{className:"text-white text-xs font-medium",children:n[e]||0})})})]},e))})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[(0,r.jsx)("span",{className:"text-green-500 mr-2",children:"\uD83D\uDC64"}),"개별 참가자 상세 정보"]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"참가자를 클릭하면 만난 사람들 목록을 확인할 수 있습니다."}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.sort((e,t)=>e.name.localeCompare(t.name,"ko")).map(e=>{var t,s;return(0,r.jsxs)("div",{onClick:()=>C(y===e.id?null:e.id),className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,r.jsx)("h4",{className:"font-medium text-gray-800",children:e.name}),(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:["male"===e.gender?"남성":"여성"," \xb7 ","extrovert"===e.mbti?"외향":"내향"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[(0,r.jsxs)("div",{className:"text-center p-2 bg-blue-50 rounded",children:[(0,r.jsx)("div",{className:"font-semibold text-blue-600",children:e.totalMet}),(0,r.jsx)("div",{className:"text-gray-600",children:"전체 만남"})]}),(0,r.jsxs)("div",{className:"text-center p-2 bg-pink-50 rounded",children:[(0,r.jsx)("div",{className:"font-semibold text-pink-600",children:e.oppositeMet}),(0,r.jsx)("div",{className:"text-gray-600",children:"이성 만남"})]}),(0,r.jsxs)("div",{className:"text-center p-2 bg-green-50 rounded",children:[(0,r.jsx)("div",{className:"font-semibold text-green-600",children:e.newInCurrentRound}),(0,r.jsx)("div",{className:"text-gray-600",children:"이번 라운드"})]})]}),(0,r.jsxs)("div",{className:"mt-2 text-xs text-gray-500 text-center",children:["현재 그룹: ",e.currentGroupId||"없음"]}),y===e.id&&(0,r.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,r.jsx)("h5",{className:"font-medium text-gray-700 mb-2",children:"만난 사람들:"}),e.previousMeetings&&e.previousMeetings.length>0&&(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("h6",{className:"text-xs font-medium text-gray-600 mb-1",children:"이미 만난 사람들:"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:e.previousMeetings.map(t=>{let s=d.find(e=>e.id===t),n=o[t];if(!s&&!n)return null;let l=s||n,a=l.gender!==e.gender,i=!s;return(0,r.jsxs)("span",{className:"text-xs px-2 py-1 rounded-full ".concat(i?"bg-gray-100 text-gray-500 opacity-75":a?"bg-pink-100 text-pink-700":"bg-blue-100 text-blue-700"),children:[l.name," ",i?"❌":a?"\uD83D\uDC95":"\uD83D\uDC65"]},t)})})]}),e.currentRoundMeetings&&e.currentRoundMeetings.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h6",{className:"text-xs font-medium text-green-600 mb-1",children:"이번 라운드에서 만날 사람들:"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:e.currentRoundMeetings.map(t=>{let s=d.find(e=>e.id===t);if(!s)return null;let n=s.gender!==e.gender;return(0,r.jsxs)("span",{className:"text-xs px-2 py-1 rounded-full border-2 border-dashed ".concat(n?"bg-pink-50 text-pink-700 border-pink-300":"bg-blue-50 text-blue-700 border-blue-300"),children:[s.name," ",n?"\uD83D\uDC95":"\uD83D\uDC65"," ✨"]},t)})})]}),!(null==(t=e.previousMeetings)?void 0:t.length)&&!(null==(s=e.currentRoundMeetings)?void 0:s.length)&&(0,r.jsx)("p",{className:"text-gray-500 text-sm",children:"아직 만난 사람이 없습니다."})]})]},e.id)})})]})]})})()}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,r.jsx)("button",{onClick:()=>e.push("/"),className:"bg-blue-500 hover:bg-blue-600 text-white font-medium py-3 px-6 rounded-md",children:"다음 라운드 준비"}),(0,r.jsx)("button",{onClick:()=>{localStorage.removeItem("groupingResult"),localStorage.removeItem("participants"),localStorage.removeItem("currentRound"),localStorage.removeItem("exitedParticipants"),e.push("/")},className:"bg-gray-500 hover:bg-gray-600 text-white font-medium py-3 px-6 rounded-md",children:"새로운 모임 시작"}),(0,r.jsx)("button",{onClick:()=>window.print(),className:"bg-green-500 hover:bg-green-600 text-white font-medium py-3 px-6 rounded-md",children:"결과 인쇄"})]})]})]}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,r.jsx)("p",{children:"결과를 불러오는 중..."})]})})}},5850:(e,t,s)=>{Promise.resolve().then(s.bind(s,5604))}},e=>{e.O(0,[220,441,964,358],()=>e(e.s=5850)),_N_E=e.O()}]);